{% extends "base.html" %}
{% load static %}

{% block meta %}
<link rel="stylesheet" href="{% static 'main/inventory_main.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
{% endblock %}
{% block content %}
<body>
    <h1 class="text-center my-4 font-weight-bold">Welcome To {{application_name}}</h1>

    <div class="container mb-4">
        <a href="{% url 'main:create_new_product' %}">
            <button class="btn btn-primary">
                Add New Product
            </button>
        </a>
    </div>
    
    <div class="container">
        <div class="row">
            {% for product in products %}
                <div class="col-md-4 mb-4 card-product glass-card">
                    <div class="card text-bg-light mb-3">
                        <div class="card-body">
                            <h5 class="card-title">{{product.name}}</h5>
                            <h6 class="card-subtitle mb-2 text-muted">{{product.category}}</h6>
                            <p class="card-text">{{product.description}}</p>
                            <p><strong>Date Added:</strong> {{product.date_added}}</p>
                            <p><strong>Amount:</strong> {{product.amount}}</p>
                        </div>
                        <div class="card-footer" style="text-align: center;">
                            <a href="{% url 'main:add_stock' product.id %}" class="btn btn-primary">Add Stock</a>
                            <a href="{% url 'main:reduce_stock' product.id %}" class="btn btn-warning">Reduce Stock</a>
                            <a href="{% url 'main:delete_product' product.id %}" class="btn btn-danger">Delete Item</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <div class="container my-4">
        <div class = "list-of-items">
            <h1>List of Items</h1>
            <p class="font-weight-bold">You have {{ item_count }} item{{ item_count|pluralize:"s" }} in {{ application_name }}</p>
        </div>
    </div>

    <hr class="mb-4" /> <!-- Add a horizontal line -->
    <div class="container">
        <h5>Last login session: {{ last_login }}</h5>
        <a href="{% url 'main:logout' %}" class="btn btn-secondary mt-2">
            Logout
        </a>
    </div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
{% endblock content %}
</html>
